[{"C:\\Users\\שחר מימרן\\RBM\\rbm\\src\\index.js":"1","C:\\Users\\שחר מימרן\\RBM\\rbm\\src\\App.js":"2","C:\\Users\\שחר מימרן\\RBM\\rbm\\src\\firebase\\firebase.js":"3","C:\\Users\\שחר מימרן\\RBM\\RBM\\src\\index.js":"4","C:\\Users\\שחר מימרן\\RBM\\RBM\\src\\App.js":"5","C:\\Users\\שחר מימרן\\RBM\\RBM\\src\\firebase\\firebase.js":"6","C:\\Users\\שחר מימרן\\RBM\\RBM\\src\\reportWebVitals.js":"7","C:\\Users\\שחר מימרן\\RBM\\RBM\\src\\AllPages.js":"8","C:\\Users\\שחר מימרן\\RBM\\RBM\\src\\components\\pages\\PageHome\\PageHome.js":"9","C:\\Users\\שחר מימרן\\RBM\\RBM\\src\\App2.js":"10","C:\\Users\\שחר מימרן\\RBM\\RBM\\src\\components\\pages\\Login\\Login.js":"11","C:\\Users\\שחר מימרן\\RBM\\RBM\\src\\components\\pages\\Users\\UserPage.js":"12","C:\\Users\\שחר מימרן\\RBM\\RBM\\src\\components\\pages\\SignUp\\SignUp.js":"13","C:\\Users\\שחר מימרן\\RBM\\RBM\\src\\components\\pages\\Users\\Researcher\\Researcher.js":"14","C:\\Users\\שחר מימרן\\RBM\\RBM\\src\\components\\pages\\Users\\Manager\\Manager.js":"15","C:\\Users\\שחר מימרן\\RBM\\RBM\\src\\404.js":"16","C:\\Users\\שחר מימרן\\RBM\\RBM\\src\\components\\pages\\Users\\await.js":"17","C:\\Users\\שחר מימרן\\RBM\\RBM\\src\\components\\pages\\Users\\Manager\\UserApproval.js":"18","C:\\Users\\שחר מימרן\\RBM\\RBM\\src\\components\\pages\\Users\\profile.js":"19","C:\\Users\\שחר מימרן\\RBM\\RBM\\src\\components\\pages\\Login\\resetPassword.js":"20","C:\\Users\\שחר מימרן\\RBM\\RBM\\src\\components\\pages\\Users\\Researcher\\RequestPurchase.js":"21","C:\\Users\\שחר מימרן\\RBM\\RBM\\src\\components\\pages\\Users\\Manager\\mngRequestPurchase.js":"22","C:\\Users\\שחר מימרן\\RBM\\RBM\\src\\components\\pages\\Users\\Manager\\UpdatesFirebase.js":"23"},{"size":500,"mtime":499162500000,"results":"24","hashOfConfig":"25"},{"size":1189,"mtime":1608469950942,"results":"26","hashOfConfig":"25"},{"size":475,"mtime":1608468812506,"results":"27","hashOfConfig":"25"},{"size":500,"mtime":1608728092157,"results":"28","hashOfConfig":"29"},{"size":324,"mtime":1608643810598,"results":"30","hashOfConfig":"29"},{"size":3820,"mtime":1615666657080,"results":"31","hashOfConfig":"29"},{"size":362,"mtime":499162500000,"results":"32","hashOfConfig":"29"},{"size":3093,"mtime":1611596206889,"results":"33","hashOfConfig":"29"},{"size":2900,"mtime":1610877647113,"results":"34","hashOfConfig":"29"},{"size":1477,"mtime":1609150667296,"results":"35","hashOfConfig":"29"},{"size":6509,"mtime":1610820414012,"results":"36","hashOfConfig":"29"},{"size":5291,"mtime":1610878186895,"results":"37","hashOfConfig":"29"},{"size":13925,"mtime":1611872684387,"results":"38","hashOfConfig":"29"},{"size":6385,"mtime":1611767288672,"results":"39","hashOfConfig":"29"},{"size":7438,"mtime":1611516630835,"results":"40","hashOfConfig":"29"},{"size":798,"mtime":1609226008487,"results":"41","hashOfConfig":"29"},{"size":595,"mtime":1611240405993,"results":"42","hashOfConfig":"29"},{"size":14713,"mtime":1611769574034,"results":"43","hashOfConfig":"29"},{"size":11037,"mtime":1610906970520,"results":"44","hashOfConfig":"29"},{"size":3287,"mtime":1610912844705,"results":"45","hashOfConfig":"29"},{"size":35173,"mtime":1615666657078,"results":"46","hashOfConfig":"29"},{"size":30369,"mtime":1615666657085,"results":"47","hashOfConfig":"29"},{"size":24461,"mtime":1611916800846,"results":"48","hashOfConfig":"29"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"xys7hj",{"filePath":"51","messages":"52","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"55"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},"1iqtwlr",{"filePath":"59","messages":"60","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"61","usedDeprecatedRules":"58"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"68","usedDeprecatedRules":"58"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"73","usedDeprecatedRules":"58"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"90","usedDeprecatedRules":"58"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"93","usedDeprecatedRules":"58"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"98","usedDeprecatedRules":"58"},{"filePath":"99","messages":"100","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"101","messages":"102","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"103"},"C:\\Users\\שחר מימרן\\RBM\\rbm\\src\\index.js",[],"C:\\Users\\שחר מימרן\\RBM\\rbm\\src\\App.js",["104"],"C:\\Users\\שחר מימרן\\RBM\\rbm\\src\\firebase\\firebase.js",[],["105","106"],"C:\\Users\\שחר מימרן\\RBM\\RBM\\src\\index.js",[],["107","108"],"C:\\Users\\שחר מימרן\\RBM\\RBM\\src\\App.js",["109","110"],"// import logo from './logo.svg';\nimport React from 'react'\nimport './App.css';\nimport LoadPage from \"./AllPages\";\n\nimport {auth} from './firebase/firebase';\nimport {render} from \"@testing-library/react\";\n\n\n\n\n\nfunction App() {\n    return (\n        <div>\n            <LoadPage/>\n        </div>\n    );\n}\n\n\nexport default App;\n","C:\\Users\\שחר מימרן\\RBM\\RBM\\src\\firebase\\firebase.js",[],"C:\\Users\\שחר מימרן\\RBM\\RBM\\src\\reportWebVitals.js",[],"C:\\Users\\שחר מימרן\\RBM\\RBM\\src\\AllPages.js",["111","112"],"import React from 'react'\r\nimport {BrowserRouter as Router, Switch, Route} from 'react-router-dom';\r\n\r\nimport PageHome from './components/pages/PageHome/PageHome';\r\nimport SignUp from './components/pages/SignUp/SignUp';\r\nimport Login from './components/pages/Login/Login';\r\nimport resetPassword from './components/pages/Login/resetPassword';\r\n\r\nimport UserPage from \"./components/pages/Users/UserPage\";\r\nimport App2 from \"./App2\";\r\n\r\nimport Researcher from './components/pages/Users/Researcher/Researcher';\r\n import RequestPurchase from \"./components/pages/Users/Researcher/RequestPurchase\";\r\n\r\n\r\nimport Managers from './components/pages/Users/Manager/Manager';\r\nimport mngRequestPurchase from \"./components/pages/Users/Manager/mngRequestPurchase\";\r\nimport UpdatesFirebase from \"./components/pages/Users/Manager/UpdatesFirebase\";\r\n\r\n\r\nimport UserApproval from \"./components/pages/Users/Manager/UserApproval\";\r\n\r\nimport Profile from \"./components/pages/Users/profile\";\r\nimport Wait from \"./components/pages/Users/await\";\r\nimport notFound from \"./404\";\r\n\r\n\r\n\r\n\r\nfunction LoadPage() {\r\n    return (\r\n        <div>\r\n            <Router>\r\n                <Switch>\r\n                    {/*<Route exact path=\"/\">*/}\r\n                    {/*    <Login />*/}\r\n                    {/*</Route>*/}\r\n\r\n                    <Route exact path=\"/\" component={PageHome} />\r\n                    <Route exact path=\"/wait/:id\" component={Wait} />\r\n                    <Route exact path=\"/Login\" component={Login} />\r\n                    <Route exact path=\"/Login/:404\" component={notFound} />\r\n                    <Route exact path=\"/resetPassword\" component={resetPassword} />\r\n\r\n\r\n                    <Route exact path=\"/SignUp\" component={SignUp} />\r\n                    <Route exact path=\"/SignUp/:404\" component={notFound} />\r\n\r\n                    <Route exact path=\"/App2\" component={App2} />\r\n\r\n                    <Route exact path=\"/User\" component={UserPage} />\r\n                    <Route exact path=\"/User/:404\" component={notFound} />\r\n\r\n                    <Route exact path=\"/Researcher/:id\" component={Researcher} />\r\n                    <Route exact path=\"/Researcher/:id/profile\" component={Profile} />\r\n                    <Route exact path=\"/Researcher/:id/RequestPurchase\" component={RequestPurchase} />\r\n\r\n\r\n                    <Route exact path=\"/Manager/:id\" component={Managers} />\r\n                    {/*<Route exact path=\"/Manager/:id/:404\" component={notFound} />*/}\r\n                    <Route exact path=\"/Manager/:id/UserApproval\" component={UserApproval} />\r\n                    <Route exact path=\"/Manager/:id/profile\" component={Profile} />\r\n                    <Route exact path=\"/Manager/:id/mngRequestPurchase\" component={mngRequestPurchase} />\r\n                    <Route exact path=\"/Manager/:id/UpdatesFirebase\" component={UpdatesFirebase} />\r\n\r\n\r\n\r\n                </Switch>\r\n            </Router>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default LoadPage;\r\n\r\n\r\n{<Route exact path='/home' exact component={PageHome}/>}\r\n// {<Route exact path=\"/login/:id\" component={Home} />}","C:\\Users\\שחר מימרן\\RBM\\RBM\\src\\components\\pages\\PageHome\\PageHome.js",[],"C:\\Users\\שחר מימרן\\RBM\\RBM\\src\\App2.js",["113"],"// import logo from './logo.svg';\r\nimport './App.css';\r\nimport {auth} from './firebase/firebase';\r\nimport {render} from \"@testing-library/react\";\r\n\r\n\r\n\r\n\r\n\r\nfunction App2() {\r\n    // var  a=auth.currentUser.email\r\n    console.log(auth.currentUser)\r\n    var a = '';\r\n    if(auth.currentUser)\r\n        a=auth.currentUser.email;\r\n    return (\r\n        <div>\r\n            <h1>\r\n                שלום\r\n                {a}\r\n                סוף בדיקה\r\n            </h1>\r\n            <button onClick={()=>{register()}}>register</button>\r\n            <button onClick={()=>{login()}}>login</button>\r\n        </div>\r\n    );\r\n\r\n    function register()\r\n    {\r\n        auth.createUserWithEmailAndPassword(\"s@gmail.com\", \"123123\").then(res=>{\r\n            if(res)\r\n            {\r\n                console.log(\"sucsses\")\r\n                console.log(\"you register\")\r\n\r\n            }\r\n            else\r\n            {\r\n                console.log( \"empty\")\r\n            }\r\n        }).catch(err=>{\r\n            console.log(err)\r\n        })\r\n    }\r\n    function login()\r\n    {\r\n        auth.signInWithEmailAndPassword(\"s@gmail.com\", \"123123\").then(res=>{\r\n            if(res)\r\n            {\r\n                console.log(\"sucsses\")\r\n                App2();\r\n                return ;\r\n            }\r\n            else\r\n            {\r\n                console.log( \"empty\")\r\n            }\r\n        }).catch(err=>{\r\n            console.log(err)\r\n        })\r\n    }\r\n}\r\n\r\n\r\nexport default App2;","C:\\Users\\שחר מימרן\\RBM\\RBM\\src\\components\\pages\\Login\\Login.js",[],"C:\\Users\\שחר מימרן\\RBM\\RBM\\src\\components\\pages\\Users\\UserPage.js",[],"C:\\Users\\שחר מימרן\\RBM\\RBM\\src\\components\\pages\\SignUp\\SignUp.js",[],"C:\\Users\\שחר מימרן\\RBM\\RBM\\src\\components\\pages\\Users\\Researcher\\Researcher.js",[],"C:\\Users\\שחר מימרן\\RBM\\RBM\\src\\components\\pages\\Users\\Manager\\Manager.js",[],"C:\\Users\\שחר מימרן\\RBM\\RBM\\src\\404.js",[],"C:\\Users\\שחר מימרן\\RBM\\RBM\\src\\components\\pages\\Users\\await.js",[],"C:\\Users\\שחר מימרן\\RBM\\RBM\\src\\components\\pages\\Users\\Manager\\UserApproval.js",["114"],"import React from 'react'\r\nimport Select from 'react-select'\r\nimport {db, CreateUser, DeleteUser, auth, getUser} from '../../../../firebase/firebase'\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport '../Manager/Manager.css';\r\nimport ClipLoader from \"react-spinners/ClipLoader\";\r\n\r\n\r\nconst options = [\r\n]\r\n\r\n\r\nclass UserApproval extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            loadPage:false,\r\n            spinner: [true,'נא להמתין הדף נטען'],\r\n\r\n        };\r\n\r\n    }\r\n\r\n    loadSpinner(event,massage){\r\n        var spinner = []\r\n        spinner.push(event)\r\n        spinner.push(massage)\r\n        this.setState({spinner:spinner})\r\n    }\r\n\r\n\r\n    async componentDidMount() {\r\n        var href =  window.location.href.split(\"/\",5)\r\n        // console.log(href)\r\n        auth.onAuthStateChanged(async user=>{\r\n            if(user)\r\n            {\r\n\r\n                var type = await getUser(user)\r\n                if(href[4] === user.uid && (href[3] === type||type==='Tester'))\r\n                {\r\n                    this.setState({\r\n                        isLoad: true,\r\n                        user: user,\r\n                        type: type\r\n                    })\r\n                    this.render()\r\n                    this.setState({loadPage:true})\r\n                    this.loadSpinner(false,\"\")\r\n                    this.loadSpinner(true,\"טוען משתמשים להצגה\")\r\n                    const collection = await db.collection('waitforapproval').get()\r\n                    const usersList = [];\r\n                    collection.forEach(doc => {\r\n                        const data = doc.data();\r\n                        if (data)\r\n                            usersList.push(data)\r\n                    });\r\n                    this.setState({users: usersList});\r\n\r\n                    var nameData =  await db.collection(\"Data\").get();\r\n                    nameData.forEach(doc=>{\r\n                        options.push({ value: doc.ref, label: doc.data().name })\r\n                    })\r\n\r\n                    this.loadSpinner(false,\"\")\r\n\r\n                    return\r\n                }\r\n                else\r\n                {\r\n                    this.notfound()\r\n                    return\r\n                }\r\n\r\n            }\r\n            else {\r\n                this.setState({\r\n                    isLoad: true,\r\n                })\r\n                window.location.href = '/Login';\r\n                return;\r\n\r\n            }\r\n\r\n        })\r\n\r\n    }\r\n\r\n    radio(e,index,user)\r\n    {\r\n\r\n        var researcher = document.getElementById(\"researcher\"+index)\r\n        var manager = document.getElementById(\"managers\"+index)\r\n        var tester = document.getElementById(\"testers\"+index)\r\n\r\n\r\n        user.type = e.target.value;\r\n\r\n\r\n        if(e.target === researcher) {\r\n            researcher.checked=true;\r\n            manager.checked=false;\r\n            tester.checked=false;\r\n\r\n        }\r\n        else if(e.target === manager) {\r\n            researcher.checked=false;\r\n            manager.checked=true;\r\n            tester.checked=false;\r\n\r\n        }\r\n        else {\r\n            researcher.checked=false;\r\n            manager.checked=false;\r\n            tester.checked=true;\r\n        }\r\n    }\r\n    render() {\r\n        if(this.state.loadPage) {\r\n            if (this.state.page === 'menu')\r\n                return (\r\n                    <div>\r\n                        {!this.state.spinner[0] ? \"\" :\r\n                            <div id='fr'>\r\n                                {this.state.spinner[1]}\r\n                                <div className=\"sweet-loading\">\r\n                                    <ClipLoader style={{\r\n                                        backgroundColor: \"rgba(255,255,255,0.85)\",\r\n                                        borderRadius: \"25px\"\r\n                                    }}\r\n                                                size={120}\r\n                                                color={\"#123abc\"}\r\n\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        }\r\n\r\n                    </div>\r\n                )\r\n            if (this.state.users) {\r\n                if (this.state.users.length === 0) {\r\n                    return (\r\n                        <div id=\"guideAttendReport\" className=\"sec-design\" dir=\"rtl\">\r\n                            {!this.state.spinner[0] ? \"\" :\r\n                                <div id='fr'>\r\n                                    {this.state.spinner[1]}\r\n                                    <div className=\"sweet-loading\">\r\n                                        <ClipLoader style={{\r\n                                            backgroundColor: \"rgba(255,255,255,0.85)\",\r\n                                            borderRadius: \"25px\"\r\n                                        }}\r\n                                                    size={120}\r\n                                                    color={\"#123abc\"}\r\n\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                            }\r\n                            <div id=\"name-group\" className=\"form-group\">\r\n                                <Grid container spacing={2}>\r\n                                    <Grid item xs={12}>\r\n                                        אין משתמשים חדשים\r\n                                    </Grid>\r\n                                </Grid>\r\n                                <Grid item xs={12}>\r\n                                    <button id=\"feedback-button\" className=\"btn btn-info\" onClick={() => {\r\n                                        this.BackPage()\r\n                                    }}>חזרה לתפריט\r\n                                    </button>\r\n                                </Grid>\r\n                            </div>\r\n                        </div>\r\n                    )\r\n                }\r\n                return (\r\n                    <div id=\"guideAttendReport\" className=\"sec-design\" dir=\"rtl\">\r\n                        {!this.state.spinner[0] ? \"\" :\r\n                            <div id='fr'>\r\n                                {this.state.spinner[1]}\r\n                                <div className=\"sweet-loading\">\r\n                                    <ClipLoader style={{\r\n                                        backgroundColor: \"rgba(255,255,255,0.85)\",\r\n                                        borderRadius: \"25px\"\r\n                                    }}\r\n                                                size={120}\r\n                                                color={\"#123abc\"}\r\n\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        }\r\n                        <div align=\"right\">\r\n                            <h2>אישור משתמשים</h2>\r\n                        </div>\r\n                        <div id=\"name-group\" className=\"form-group\">\r\n                            <Grid container spacing={2}>\r\n                                <Grid item xs={12}>\r\n                                    <Grid container\r\n                                          direction=\"row\"\r\n                                          justify=\"space-between\"\r\n                                          alignItems=\"center\"\r\n                                          spacing={2}>\r\n\r\n                                        {this.state.users.map((user, index) => (\r\n                                                <Grid item xs={12} key={index}>\r\n                                                    {this.Card(user, index)}\r\n                                                </Grid>\r\n                                            )\r\n                                        )}\r\n\r\n\r\n                                    </Grid>\r\n                                    <Grid item xs={12}>\r\n                                        <button id=\"feedback-button\" className=\"btn btn-info\" onClick={() => {\r\n                                            this.BackPage()\r\n                                        }}>חזרה לתפריט\r\n                                        </button>\r\n                                    </Grid>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </div>\r\n\r\n                    </div>\r\n                );\r\n            } else {\r\n                return (\r\n                    <div id=\"guideAttendReport\" className=\"sec-design\" dir=\"rtl\">\r\n                        {!this.state.spinner[0] ? \"\" :\r\n                            <div id='fr'>\r\n                                {this.state.spinner[1]}\r\n                                <div className=\"sweet-loading\">\r\n                                    <ClipLoader style={{\r\n                                        backgroundColor: \"rgba(255,255,255,0.85)\",\r\n                                        borderRadius: \"25px\"\r\n                                    }}\r\n                                                size={120}\r\n                                                color={\"#123abc\"}\r\n\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        }\r\n                        <div id=\"name-group\" className=\"form-group\">\r\n                            <Grid container spacing={2}>\r\n                                <Grid item xs={12}>\r\n                                    טוען משתמשים\r\n                                </Grid>\r\n                            </Grid>\r\n                        </div>\r\n                    </div>\r\n                )\r\n            }\r\n        }\r\n        else {\r\n            return (\r\n                <div>\r\n                    {!this.state.spinner[0] ? \"\" :\r\n                        <div id='fr'>\r\n                            {\"טוען נתוני דף\"}\r\n                            <div className=\"sweet-loading\">\r\n                                <ClipLoader style={{\r\n                                    backgroundColor: \"rgba(255,255,255,0.85)\",\r\n                                    borderRadius: \"25px\"\r\n                                }}\r\n                                    //   css={override}\r\n                                            size={120}\r\n                                            color={\"#123abc\"}\r\n\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    }\r\n                </div>)\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n    Card(user,index) {\r\n        return (\r\n            <div className=\"Card\"  dir=\"rtl\">\r\n                <Grid container spacing={1}>\r\n                    <Grid item xs={12}>\r\n                        <b>שם מלא: </b>  {user.fname + \" \" + user.lname}<br/>\r\n                        <b> אימייל: </b> {user.email}<br/>\r\n                        <b> טלפון: </b>{user.phone}<br/>\r\n                        {\r\n                            (user.type === \"researcher\") ?\r\n                                (<b> תפקיד: חוקר </b>):(user.type === \"managers\")?\r\n                                (<b> תפקיד: מנהל </b>):(<b> תפקיד: בודק </b>)\r\n\r\n\r\n                        }\r\n\r\n                    </Grid>\r\n\r\n                    <Grid item xs={3}>\r\n                        <div>\r\n\r\n                            <label>\r\n                                <input id ={\"Researcher\"+index} type=\"radio\" value=\"Researcher\"  onClick={e => {\r\n                                    this.radio(e,index,user)\r\n                                }}/>\r\n                                חוקר\r\n                            </label>\r\n                        </div>\r\n                    </Grid>\r\n                    <Grid item xs={3}>\r\n                        <div>\r\n\r\n                            <label>\r\n                                <input id ={\"managers\"+index} type=\"radio\" value=\"managers\"  onClick={e => {\r\n                                    this.radio(e,index,user)\r\n                                }}/>\r\n                                מנהל\r\n                            </label>\r\n                        </div>\r\n                    </Grid>\r\n\r\n                    <Grid item xs={12}>\r\n                        {/*<div className=\"text-below-image\">*/}\r\n                        {/*    <label className=\"container\">אישור בקשה<input type='checkbox'  onChange={e=>{*/}\r\n                        {/*        user.approve = e.target.checked*/}\r\n                        {/*    } }/></label>*/}\r\n                        {/*</div>*/}\r\n\r\n                    </Grid>\r\n\r\n                    <Grid item xs={6}>\r\n                        <button\r\n                            style={{backgroundColor: \"rgb(50,248,6)\"}}\r\n                            onClick={()=>{\r\n                                CreateUser(user).then(()=>{\r\n                                    var newUsers = []\r\n                                    this.state.users.forEach((user,i)=>{\r\n                                        if(index!==i)\r\n                                            newUsers.push(user)\r\n                                    })\r\n                                    this.setState({users:newUsers})\r\n                                })\r\n                            }}>אישור בקשה </button>\r\n                    </Grid>\r\n                    <Grid item xs={6}>\r\n                        <button\r\n                            style={{backgroundColor: \"rgb(248,6,6)\"}}\r\n                            onClick={()=>{\r\n                                DeleteUser(user.uid).then(()=>{\r\n                                    var newUsers = []\r\n                                    this.state.users.forEach((user,i)=>{\r\n                                        if(index!==i)\r\n                                            newUsers.push(user)\r\n                                    })\r\n                                    this.setState({users:newUsers})\r\n                                })\r\n                            }}>דחיית בקשה</button>\r\n                    </Grid>\r\n                </Grid>\r\n\r\n\r\n\r\n\r\n            </div>\r\n        );\r\n    }\r\n\r\n    loadUser(page)\r\n    {\r\n        this.props.history.push({\r\n            pathname: `/Temp${page}`,\r\n            data: this.state.user // your data array of objects\r\n        })\r\n    }\r\n\r\n    BackPage()\r\n    {\r\n        this.props.history.push({\r\n            pathname: `/Manager/${this.state.user.uid}`,\r\n            data: this.state.user // your data array of objects\r\n        })\r\n    }\r\n\r\n}\r\n\r\nexport  default  UserApproval;","C:\\Users\\שחר מימרן\\RBM\\RBM\\src\\components\\pages\\Users\\profile.js",["115"],"import React from \"react\";\r\nimport {\r\n    auth,\r\n    getUser, getResearcherData,\r\n    getManagerData, getResearcher, getManager\r\n} from '../../../firebase/firebase'\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport ClipLoader from \"react-spinners/ClipLoader\";\r\n\r\n\r\nclass Profile extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            loadPage:false,\r\n            spinner: [true,'נא להמתין הדף נטען'],\r\n            fname:'',\r\n            lname:'',\r\n            phone:'',\r\n            type:''\r\n        };\r\n    }\r\n\r\n\r\n    async componentDidMount() {\r\n        var href =  window.location.href.split(\"/\",5)\r\n        auth.onAuthStateChanged(async user=>{\r\n            if(user)\r\n            {\r\n\r\n                var type = await getUser(user)\r\n                if(href[4] === user.uid && (href[3] === type||type==='Tester'))\r\n                {\r\n                    if(type==='Tester')\r\n                        type = href[3]\r\n                    this.setState({\r\n                        isLoad: true,\r\n                        user: user,\r\n                        type: type\r\n                    })\r\n                    await this.getDate()\r\n                    this.loadSpinner(false,\"\")\r\n                    this.setState({loadPage:true})\r\n                    this.render()\r\n                    return\r\n                }\r\n                else\r\n                {\r\n\r\n                    this.notfound()\r\n                    return\r\n                }\r\n\r\n            }\r\n            else {\r\n                this.setState({\r\n                    isLoad: true,\r\n                })\r\n                window.location.href = '/Login';\r\n                return;\r\n\r\n            }\r\n\r\n        })\r\n\r\n    }\r\n\r\n    async getDate() {\r\n        var user = (auth.currentUser).uid\r\n        var researcher = await getResearcherData(user)\r\n        var manager = await getManagerData(user)\r\n\r\n        if (researcher) {\r\n            this.setState({\r\n                fname: researcher.fname,\r\n                lname: researcher.lname,\r\n                phone: researcher.phone,\r\n            })\r\n        } else if (manager) {\r\n\r\n            this.setState({\r\n                fname: manager.fname,\r\n                lname: manager.lname,\r\n                phone: manager.phone,\r\n            })\r\n        }\r\n    }\r\n\r\n    async sendData(){\r\n        if(this.state.password && this.state.Vpassword){\r\n            if(this.state.password !== this.state.Vpassword){\r\n                alert(\"הסיסמא ואימות הסיסמא לא תואמים\")\r\n                return\r\n            }\r\n            else if((this.state.password).length < 6){\r\n                alert(\"הסיסמא צריכה להיות יותר מ6 תווים\")\r\n                return\r\n            }\r\n            auth.currentUser.updatePassword(this.state.password)\r\n        }\r\n        else if((!this.state.password && this.state.Vpassword)||(this.state.password && !this.state.Vpassword)){\r\n            alert(\"אנא מלא את כל הנתונים\")\r\n            // console.log(\"this.state.password\",this.state.password)\r\n            // console.log(\"this.state.Vpassword\",this.state.Vpassword)\r\n\r\n            return\r\n        }\r\n\r\n        var user=(auth.currentUser).uid\r\n\r\n        if(this.state.type === \"Researcher\")\r\n        {\r\n            user = await getResearcher(user)\r\n        }\r\n        else if(this.state.type === \"Manager\")\r\n        {\r\n            user = await getManager(user)\r\n        }\r\n        if(this.state.Vpassword)\r\n        {\r\n            var updateStudent = {\r\n                fname:this.state.fname,\r\n                lname:this.state.lname,\r\n                phone:this.state.phone,\r\n                password:this.state.password,\r\n\r\n            }\r\n        }else{\r\n            var updateStudent = {\r\n                fname:this.state.fname,\r\n                lname:this.state.lname,\r\n                phone:this.state.phone,\r\n            }\r\n        }\r\n\r\n\r\n        user.update(updateStudent).then(()=>\r\n        {\r\n            alert(\"הפרטים שונו בהצלחה\")\r\n        })\r\n    }\r\n    loadSpinner(event,massage = \"\"){\r\n        var spinner = []\r\n        spinner.push(event)\r\n        spinner.push(massage)\r\n        this.setState({spinner:spinner})\r\n    }\r\n    render() {\r\n        if(this.state.loadPage)\r\n        {\r\n            return (\r\n                <div id=\"instructor\" className=\"sec-design\">\r\n                    {!this.state.spinner[0] ? \"\" :\r\n                        <div id='fr'>\r\n                            {this.state.spinner[1]}\r\n                            <div className=\"sweet-loading\">\r\n                                <ClipLoader style={{\r\n                                    backgroundColor: \"rgba(255,255,255,0.85)\",\r\n                                    borderRadius: \"25px\"\r\n                                }}\r\n                                            size={120}\r\n                                            color={\"#123abc\"}\r\n\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    }\r\n                    <div align=\"right\">\r\n                    <h2>עדכון פרטים</h2>\r\n                    </div>\r\n                    <Grid container spacing={2}>\r\n                        <Grid item xs={6}>\r\n                            <TextField\r\n                                inputProps={{style: {textAlign: 'center'}}}\r\n                                id=\"lname\"\r\n                                name=\"lname\"\r\n                                type=\"string\"\r\n                                autoComplete=\"off\"\r\n                                value={this.state.lname}\r\n                                onChange={(e) => {\r\n                                    this.setState({lname: e.target.value})\r\n                                }}\r\n                                variant=\"standard\"\r\n                                fullWidth\r\n                                label=\"שם משפחה\"\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={6}>\r\n                            <TextField\r\n                                inputProps={{style: {textAlign: 'center'}}}\r\n                                id=\"fname\"\r\n                                name=\"fname\"\r\n                                type=\"string\"\r\n                                autoComplete=\"off\"\r\n                                autoFocus\r\n                                value={this.state.fname}\r\n                                onChange={(e) => {\r\n                                    this.setState({fname: e.target.value})\r\n                                }}\r\n                                variant=\"standard\"\r\n                                fullWidth\r\n                                label=\"שם פרטי\"\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12}>\r\n                            <TextField\r\n                                inputProps={{style: {textAlign: 'center'}}}\r\n                                id=\"phone\"\r\n                                name=\"phone\"\r\n                                type=\"tel\"\r\n                                autoComplete=\"off\"\r\n                                value={this.state.phone}\r\n                                onChange={e => {\r\n                                    this.setState({phone: e.target.value})\r\n                                }}\r\n                                variant=\"standard\"\r\n                                fullWidth\r\n                                label=\"פלאפון\"\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12}>\r\n                            <TextField\r\n                                inputProps={{style: {textAlign: 'center'}}}\r\n                                id=\"password\"\r\n                                name=\"password\"\r\n                                type=\"password\"\r\n                                autoComplete=\"off\"\r\n                                // value={this.state.password}\r\n                                onChange={(e) => {\r\n                                    this.setState({password: e.target.value})\r\n                                }}\r\n                                variant=\"standard\"\r\n                                fullWidth\r\n                                label=\"סיסמא חדשה\"\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12}>\r\n                            <TextField\r\n                                inputProps={{style: {textAlign: 'center'}}}\r\n                                id=\"verifyPassword\"\r\n                                name=\"password\"\r\n                                type=\"password\"\r\n                                autoComplete=\"off\"\r\n                                // value={this.state.password}\r\n                                onChange={(e) => {\r\n                                    this.setState({Vpassword: e.target.value})\r\n                                }}\r\n                                variant=\"standard\"\r\n                                fullWidth\r\n                                label=\"אימות סיסמא\"\r\n                            />\r\n                        </Grid>\r\n                    </Grid>\r\n                    <button id=\"report-button\" className=\"btn btn-info\" onClick={() => {\r\n                        this.sendData()\r\n                    }}>עדכון פרטים<span\r\n                        className=\"fa fa-arrow-right\"></span></button>\r\n                    <button onClick={() => {\r\n                        this.BackPage()\r\n                    }}>חזרה\r\n                    </button>\r\n\r\n                </div>\r\n            );\r\n        }\r\n        else\r\n            return (<div> {!this.state.spinner[0] ? \"\" :\r\n                <div id='fr'>\r\n                    {this.state.spinner[1]}\r\n                    <div className=\"sweet-loading\">\r\n                        <ClipLoader style={{\r\n                            backgroundColor: \"rgba(255,255,255,0.85)\",\r\n                            borderRadius: \"25px\"\r\n                        }}\r\n                                    size={120}\r\n                                    color={\"#123abc\"}\r\n\r\n                        />\r\n                    </div>\r\n                </div>\r\n            }</div>)\r\n    }\r\n\r\n\r\n\r\n    ChangePage(path) {\r\n\r\n        this.props.history.push({\r\n            pathname: `${this.props.location.pathname}/${path}`,\r\n        })\r\n        return\r\n    }\r\n\r\n    notfound()\r\n    {\r\n        this.props.history.push({\r\n            pathname: `/404`,\r\n            data: this.state.user // your data array of objects\r\n        })\r\n    }\r\n\r\n    BackPage()\r\n    {\r\n        this.props.history.push({\r\n            pathname: `/${this.state.type}/${this.state.user.uid}`,\r\n            data: this.state.user // your data array of objects\r\n        })\r\n    }\r\n}\r\n\r\n\r\nexport  default  Profile;","C:\\Users\\שחר מימרן\\RBM\\RBM\\src\\components\\pages\\Login\\resetPassword.js",[],"C:\\Users\\שחר מימרן\\RBM\\RBM\\src\\components\\pages\\Users\\Researcher\\RequestPurchase.js",["116","117","118","119","120"],"import React from \"react\";\r\nimport {auth, db, getUser} from '../../../../firebase/firebase';\r\nimport { Radio, RadioGroup} from \"@material-ui/core\";\r\nimport './Researcher.css'\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport ClipLoader from \"react-spinners/ClipLoader\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\n\r\n\r\nclass RequestPurchase extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            loadPage:false,\r\n            spinner: [true,'נא להמתין הדף נטען'],\r\n            page:'menu',\r\n            user: props.location,\r\n            error:false,\r\n            loading: true,\r\n            rule:\"Manager\",\r\n            prevDate:'',\r\n            viewResearcher: false,\r\n            date:\"\",\r\n            form : {\r\n                date:\"\",\r\n                team:\"\",\r\n                name:\"\",\r\n            }\r\n        };\r\n\r\n\r\n        this.handleSubmit = this.handleSubmit.bind(this)\r\n        this.handleChange = this.handleChange.bind(this)\r\n        // this.handleChangeDate = this.handleChangeDate.bind(this)\r\n        this.approvResearcher = this.approvResearcher.bind(this)\r\n\r\n        this.RequestPurchase = this.RequestPurchase.bind(this)\r\n\r\n\r\n    }\r\n\r\n    parser(date)\r\n    {\r\n        var year=''\r\n        var month = ''\r\n        var day = ''\r\n        var j=0;\r\n        for(var i =0; i<date.length; i++)\r\n        {\r\n            if(j===0 && date[i]!=='-')\r\n            {\r\n                year+=date[i]\r\n            }\r\n            else if(j===1 && date[i]!=='-')\r\n            {\r\n                month+=date[i]\r\n            }\r\n            else if(j===2 && date[i]!=='-')\r\n            {\r\n                day+=date[i]\r\n            }\r\n            else\r\n                j++\r\n\r\n        }\r\n        year = parseInt(year)\r\n        month=parseInt(month)\r\n        day= parseInt(day)\r\n        return {year,month,day}\r\n    }\r\n\r\n    loadSpinner(event,massage = \"\"){\r\n        var spinner = []\r\n        spinner.push(event)\r\n        spinner.push(massage)\r\n        this.setState({spinner:spinner})\r\n    }\r\n\r\n    async handleChange(event)\r\n    {\r\n        var form=''\r\n\r\n        var name = event.target.name;\r\n        var value = event.target.value;\r\n        var e = event.target\r\n        if(name === 'date' && event.target.value!=='' )\r\n        {\r\n            this.loadSpinner(true,\"טוען נתוני חוקר\")\r\n\r\n            var formResearcher = await db.collection(\"researcher\").doc(auth.currentUser.uid).collection(\"request\").doc(event.target.value).get()\r\n            // console.log(\"formResearcher.data \",formResearcher.data())\r\n            // if(formResearcher.data() && formResearcher.data().locked) {\r\n            //     alert(\"הבקשה לתאריך הנוכחי נחתם נא לבחור תאריך אחר\")\r\n            //     document.getElementById(e.id).value=''\r\n            //     form = this.state.form;\r\n            //     // console.log(name);\r\n            //\r\n            //     form[name] = '';\r\n            //     this.setState({form:form})\r\n            //\r\n            // }\r\n            if(formResearcher.data())\r\n            {\r\n                this.setState({form:formResearcher.data().form})\r\n            }\r\n            else\r\n            {\r\n                var researcherData= await db.collection(\"researcher\").doc(auth.currentUser.uid).get()\r\n                form ={}\r\n                form[name] = value;\r\n                form['name']=researcherData.data().fname+' '+researcherData.data().lname;\r\n                // form['team']=researcherData.data().teamName\r\n                this.setState({form:form})\r\n            }\r\n        }\r\n        else\r\n        {\r\n            form = this.state.form\r\n            form[name] = value;\r\n            this.setState({form:form})\r\n        }\r\n        this.loadSpinner(false)\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n    async handleSubmit(event)\r\n    {\r\n        if(!this.state.date) {\r\n            return;\r\n        }\r\n        if(this.state.date === this.state.prevDate) {\r\n            this.setState({viewResearcher: !this.state.viewResearcher});\r\n            return ;\r\n        }\r\n        this.loadSpinner(true,\"מעדכן נתונים חדשים\")\r\n        this.setState({prevDate:this.state.date});\r\n        // console.log(\"in\");\r\n         var request = (await db.collection(\"researcher\").doc(auth.currentUser.uid).get()).data().type;\r\n         const collection = await db.collection('researcher').where(\"request\",\"==\",request).get()\r\n        const researchers = [];\r\n        const date = this.state.date\r\n        const collectionPromisesTeam = collection.docs.map( async function(doc) {\r\n            var ref =await db.collection(\"researcher\").doc(doc.id).collection(\"request\").doc(date).get()\r\n            var user = await db.collection(\"researcher\").doc(doc.id).get()\r\n            return [ref,user]\r\n\r\n        })\r\n\r\n        Promise.all(collectionPromisesTeam).then(res => {\r\n            // console.log(\"end prommis\");\r\n            res.forEach(doc=>{\r\n                var approv = false;\r\n                var Request = ''\r\n                if(doc[0].exists) {\r\n                    approv = true;\r\n                    Request = doc[0].data().RequestPurchase;\r\n                }\r\n                var data = doc[1].data();\r\n                var ref = doc[1].id;\r\n                researchers.push({data,approv,ref,Request})\r\n            })\r\n            let i;\r\n            // console.log(researchers.length)\r\n            this.setState({viewResearcher: !this.state.viewResearcher});\r\n            for (i=0;i<researchers.length;i++)\r\n            {\r\n                if(!this.state.researchers)\r\n                {\r\n                    this.setState({researchers: researchers});\r\n                    this.loadSpinner(false)\r\n                    return\r\n                }\r\n                else if(researchers[i].approv!==this.state.researchers[i].approv)\r\n                {\r\n                    this.setState({researchers: researchers});\r\n                    this.loadSpinner(false)\r\n                    return\r\n                }\r\n\r\n            }\r\n            this.loadSpinner(false)\r\n        });\r\n\r\n\r\n    }\r\n    loadPage(event){\r\n        this.setState({loading:event})\r\n    }\r\n\r\n    async sendRequest(form){\r\n        // console.log(\"form\",form)\r\n        this.loadSpinner(true,\"שליחת הבקשה\")\r\n        var path = auth.currentUser.uid\r\n        try{\r\n            var researcher = await db.collection(\"researcher\").doc(path)\r\n             // console.log(\"form1\",form)\r\n            var newDate = await researcher.collection(\"request\").doc(form.date);\r\n            // console.log(\"form.date\",form.date)\r\n            // console.log(\"form\",form)\r\n\r\n            newDate.set({\r\n                form: form,\r\n                date:form.date\r\n            }).then(async ()=>{\r\n                await this.addDataToTeam(researcher,form.date);\r\n                alert(\"הטופס נשלח בהצלחה\")\r\n                this.loadSpinner(false)\r\n                window.location.reload(true);\r\n\r\n            })\r\n\r\n        }catch(error) {\r\n            alert(error.message)\r\n            this.loadSpinner(false)\r\n        }\r\n    }\r\n    async addDataToTeam(researcher,date)\r\n    {\r\n\r\n        var formResearcher = (await researcher.collection('request').doc(date).get()).ref;\r\n        try{\r\n            var team = (await researcher.get()).data();\r\n            var name =(team.fname + \" \"+team.lname);\r\n\r\n            var teamCollection = await db.collection(\"Data\").doc(team.team.id)\r\n            // var Collection = await teamCollection.collection(\"Requests\").doc(name)\r\n            var newDate = await teamCollection.collection(\"Requests\").doc(date)\r\n            // var newDate = Collection.collection(date).doc();\r\n            var doc =  await newDate.get()\r\n            var {year,month,day} = this.parser(date)\r\n            var fullDate = new Date()\r\n            fullDate.setTime(0)\r\n            fullDate.setFullYear(year,month-1,day)\r\n\r\n            console.log(\"team.team.id\",team.team.id)\r\n            console.log(\"teamCollection\",teamCollection)\r\n            console.log(\"newDate\",newDate)\r\n            console.log(\"fullDate\",fullDate)\r\n            console.log(\"formResearcher\",formResearcher)\r\n\r\n            // var temp = newDate.set({\r\n            //     date:fullDate,\r\n            //     RequestResearcher: formResearcher,\r\n            //     nameResearcher: team.fname + \" \"+team.lname,\r\n            //\r\n            // })\r\n            //\r\n            // // db.collection(\"Data\").doc().set({name})\r\n            // await db.collection(\"Data\").doc().collection(name).set(temp).then(()=>{\r\n            //         alert(\"הדוח נוסף\")\r\n            //         return true;\r\n            //     }\r\n            // ).catch((e)=>{\r\n            //     alert(\"הדוח לא הוסף\")\r\n            //     return false;\r\n            // })\r\n\r\n\r\n            if(!doc.exists){\r\n\r\n                // console.log(\"doc.exists\",doc.exists)\r\n                // console.log(\"doc\",doc)\r\n\r\n                newDate.set({\r\n                    date:fullDate,\r\n                    RequestResearcher: formResearcher,\r\n                    nameResearcher: team.fname + \" \"+team.lname,\r\n\r\n                })\r\n            }\r\n            else {\r\n\r\n                // console.log(\"doc.exists\",doc.exists)\r\n                // console.log(\"doc\",doc)\r\n\r\n                newDate.update({\r\n                    date:fullDate,\r\n                    RequestResearcher: formResearcher,\r\n                })\r\n            }\r\n        }catch(error) {\r\n            alert(error.message)\r\n        }\r\n\r\n    }\r\n\r\n    async componentDidMount() {\r\n        var href =  window.location.href.split(\"/\",5)\r\n        // console.log(href)\r\n        auth.onAuthStateChanged(async user=>{\r\n            if(user)\r\n            {\r\n\r\n                // console.log(\"in1\")\r\n                var type = await getUser(user)\r\n                // console.log(type)\r\n                if(href[4] === user.uid && (href[3] === type||type==='Tester'))\r\n                {\r\n                    // console.log(\"in2\")\r\n                    this.setState({\r\n                        isLoad: true,\r\n                        user: user,\r\n                        type: type\r\n                    })\r\n\r\n                }\r\n                else\r\n                {\r\n                    // console.log(\"in3\")\r\n                    this.notfound()\r\n                    return\r\n                }\r\n\r\n            }\r\n            else {\r\n                this.setState({\r\n                    isLoad: true,\r\n                })\r\n                window.location.href = '/Login';\r\n                return;\r\n\r\n            }\r\n            // console.log(\"in4\")\r\n            var teamName = await db.collection(\"researcher\").doc(auth.currentUser.uid).get()\r\n            // if(!teamName.data().teamName)\r\n            // {\r\n            //     alert(\"אינך משוייכ/ת לקבוצה יש לפנות למנהל\")\r\n            //     this.loadSpinner(false)\r\n            //     this.BackPage()\r\n            // }\r\n            this.loadSpinner(false,\"\")\r\n            this.setState({loadPage:true})\r\n            this.render()\r\n\r\n        })\r\n\r\n    }\r\n\r\n    approvResearcher(researcher)\r\n    {\r\n\r\n        var researchers =  this.state.researchers;\r\n        for(var i=0;i<researchers.length;i++)\r\n        {\r\n            if(researchers[i] === researcher)\r\n            {\r\n                researchers[i].approv = !researchers[i].approv;\r\n                this.setState({researchers:researchers})\r\n                return\r\n            }\r\n        }\r\n    }\r\n\r\n    RequestPurchase(event,researcher)\r\n    {\r\n        var researchers = this.state.researchers;\r\n        // console.log(event.target.value);\r\n        for(var i=0;i<researchers.length;i++)\r\n        {\r\n            if(researchers[i] === researcher)\r\n            {\r\n                researchers[i].Request = event.target.value\r\n                this.setState({researchers: researchers})\r\n                return\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n    render() {\r\n        if(this.state.loadPage) {\r\n            return (\r\n                <div id=\"ResearcherRequest\" className=\"sec-design\">\r\n\r\n                    {!this.state.spinner[0] ? \"\" :\r\n                        <div id='fr'>\r\n                            {this.state.spinner[1]}\r\n                            <div className=\"sweet-loading\">\r\n                                <ClipLoader style={{\r\n                                    backgroundColor: \"rgba(255,255,255,0.85)\",\r\n                                    borderRadius: \"25px\"\r\n                                }}\r\n                                    //   css={override}\r\n                                            size={120}\r\n                                            color={\"#123abc\"}\r\n\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    }\r\n                    <div dir=\"rtl\">\r\n                        <label id=\"date\" className=\"title-input\">תאריך הבקשה:</label>\r\n                        <input type=\"date\" id=\"insert-date\" name=\"date\" onChange={(e) => this.handleChange(e)}\r\n                               required/>\r\n\r\n                        <br/>\r\n\r\n                        <Grid item xs={6}>\r\n                            <TextField\r\n                                inputProps={{style: {textAlign: 'center'}}}\r\n                                id=\"q1i\"\r\n                                name=\"q1\"\r\n                                type=\"tel\"\r\n                                autoComplete=\"off\"\r\n                                value={this.state.q1}\r\n                                onChange={(e) => {\r\n                                    this.handleChange(e)\r\n                                }}\r\n                                variant=\"standard\"\r\n                                fullWidth\r\n                                label=\"שם הספק\"\r\n                            />\r\n                        </Grid>\r\n\r\n                        <h4>המזמין: מכון שמיר למחקר - ע\"ר</h4>\r\n\r\n\r\n                        <div id=\"name-group\">\r\n                            <label id=\"QL\" className=\"title-input\">טלפון המכון: 04-6123901. פקס: 04-6961930</label>\r\n                            <br/>\r\n                        </div>\r\n\r\n                        <Grid item xs={6}>\r\n                            <TextField\r\n                                inputProps={{style: {textAlign: 'center'}}}\r\n                                id=\"q2i\"\r\n                                name=\"q2\"\r\n                                type=\"tel\"\r\n                                autoComplete=\"off\"\r\n                                value={this.state.q2}\r\n                                onChange={(e) => {\r\n                                    this.handleChange(e)\r\n                                }}\r\n                                variant=\"standard\"\r\n                                fullWidth\r\n                                label=\"נייד\"\r\n                            />\r\n                        </Grid>\r\n                        <br/>\r\n\r\n                        <Grid item xs={6}>\r\n                            <TextField\r\n                                inputProps={{style: {textAlign: 'center'}}}\r\n                                id=\"q3i\"\r\n                                name=\"q3\"\r\n                                type=\"tel\"\r\n                                autoComplete=\"off\"\r\n                                value={this.state.q3}\r\n                                onChange={(e) => {\r\n                                    this.handleChange(e)\r\n                                }}\r\n                                variant=\"standard\"\r\n                                fullWidth\r\n                                label=\"טופס הזמנה מס'\"\r\n                            />\r\n                        </Grid>\r\n                        <br/>\r\n\r\n                        <Grid item xs={6}>\r\n                            <TextField\r\n                                inputProps={{style: {textAlign: 'center'}}}\r\n                                id=\"q4i\"\r\n                                name=\"q4\"\r\n                                type=\"tel\"\r\n                                autoComplete=\"off\"\r\n                                value={this.state.q4}\r\n                                onChange={(e) => {\r\n                                    this.handleChange(e)\r\n                                }}\r\n                                variant=\"standard\"\r\n                                fullWidth\r\n                                label=\"מצורפת הצעת מחיר מס':\"\r\n                            />\r\n                        </Grid>\r\n\r\n                        <h4>פירוט ההצעה:</h4>\r\n                    <table border=\"1\">\r\n\r\n                        <tr>\r\n                            <th>מק\"ט</th>\r\n                            <th>תיאור הפריט</th>\r\n                            <th>מחיר במט\"ח</th>\r\n                            <th>מחיר יח' בש\"ח</th>\r\n                            <th>מס' יחידות</th>\r\n                            <th>מחיר בש\"ח</th>\r\n\r\n                        </tr>\r\n                        <tr>\r\n                            <td>\r\n                                <div id=\"name-group\">\r\n                                    <input type=\"text\" name=\"q5\" id=\"q5i\" placeholder={''}\r\n                                           value={this.state.form.q5 ? (this.state.form.q5) : ('')} onChange={(e) => {\r\n                                        this.handleChange(e)\r\n                                    }} required/>\r\n                                </div>\r\n                            </td>\r\n                            <td>    <div id=\"name-group\">\r\n                                <input type=\"text\" name=\"q6\" id=\"q6i\" placeholder={''}\r\n                                       value={this.state.form.q6 ? (this.state.form.q6) : ('')} onChange={(e) => {\r\n                                    this.handleChange(e)\r\n                                }} required/>\r\n                            </div></td>\r\n                            <td><div id=\"name-group\">\r\n                                <input type=\"text\" name=\"q7\" id=\"q7i\" placeholder={''}\r\n                                       value={this.state.form.q7 ? (this.state.form.q7) : ('')} onChange={(e) => {\r\n                                    this.handleChange(e)\r\n                                }} required/>\r\n                            </div></td>\r\n                            <td><div id=\"name-group\">\r\n                                <input type=\"text\" name=\"q8\" id=\"q8i\" placeholder={''}\r\n                                       value={this.state.form.q8 ? (this.state.form.q8) : ('')} onChange={(e) => {\r\n                                    this.handleChange(e)\r\n                                }} required/>\r\n                            </div></td>\r\n                            <td><div id=\"name-group\">\r\n                                <input type=\"text\" name=\"q9\" id=\"q9i\" placeholder={''}\r\n                                       value={this.state.form.q9 ? (this.state.form.q9) : ('')} onChange={(e) => {\r\n                                    this.handleChange(e)\r\n                                }} required/>\r\n                            </div></td>\r\n                            <td><div id=\"name-group\">\r\n                                <input type=\"text\" name=\"q10\" id=\"q10i\" placeholder={''}\r\n                                       value={this.state.form.q10 ? (this.state.form.q10) : ('')} onChange={(e) => {\r\n                                    this.handleChange(e)\r\n                                }} required/>\r\n                            </div></td>\r\n\r\n                        </tr>\r\n                        <tr>\r\n                            <td>\r\n                                <div id=\"name-group\">\r\n                                    <input type=\"text\" name=\"q50\" id=\"q50i\" placeholder={''}\r\n                                           value={this.state.form.q50 ? (this.state.form.q50) : ('')} onChange={(e) => {\r\n                                        this.handleChange(e)\r\n                                    }} required/>\r\n                                </div>\r\n                            </td>\r\n                            <td>    <div id=\"name-group\">\r\n                                <input type=\"text\" name=\"q60\" id=\"q60i\" placeholder={''}\r\n                                       value={this.state.form.q60 ? (this.state.form.q60) : ('')} onChange={(e) => {\r\n                                    this.handleChange(e)\r\n                                }} required/>\r\n                            </div></td>\r\n                            <td><div id=\"name-group\">\r\n                                <input type=\"text\" name=\"q70\" id=\"q70i\" placeholder={''}\r\n                                       value={this.state.form.q70 ? (this.state.form.q70) : ('')} onChange={(e) => {\r\n                                    this.handleChange(e)\r\n                                }} required/>\r\n                            </div></td>\r\n                            <td><div id=\"name-group\">\r\n                                <input type=\"text\" name=\"q80\" id=\"q80i\" placeholder={''}\r\n                                       value={this.state.form.q80 ? (this.state.form.q80) : ('')} onChange={(e) => {\r\n                                    this.handleChange(e)\r\n                                }} required/>\r\n                            </div></td>\r\n                            <td><div id=\"name-group\">\r\n                                <input type=\"text\" name=\"q90\" id=\"q90i\" placeholder={''}\r\n                                       value={this.state.form.q90 ? (this.state.form.q90) : ('')} onChange={(e) => {\r\n                                    this.handleChange(e)\r\n                                }} required/>\r\n                            </div></td>\r\n                            <td><div id=\"name-group\">\r\n                                <input type=\"text\" name=\"q100\" id=\"q100i\" placeholder={''}\r\n                                       value={this.state.form.q100 ? (this.state.form.q100) : ('')} onChange={(e) => {\r\n                                    this.handleChange(e)\r\n                                }} required/>\r\n                            </div></td>\r\n\r\n                        </tr>\r\n                        <tr>\r\n                            <td>\r\n                                <div id=\"name-group\">\r\n                                    <input type=\"text\" name=\"q51\" id=\"q51i\" placeholder={''}\r\n                                           value={this.state.form.q51 ? (this.state.form.q51) : ('')} onChange={(e) => {\r\n                                        this.handleChange(e)\r\n                                    }} required/>\r\n                                </div>\r\n                            </td>\r\n                            <td>    <div id=\"name-group\">\r\n                                <input type=\"text\" name=\"q61\" id=\"q61i\" placeholder={''}\r\n                                       value={this.state.form.q61 ? (this.state.form.q61) : ('')} onChange={(e) => {\r\n                                    this.handleChange(e)\r\n                                }} required/>\r\n                            </div></td>\r\n                            <td><div id=\"name-group\">\r\n                                <input type=\"text\" name=\"q71\" id=\"q71i\" placeholder={''}\r\n                                       value={this.state.form.q71 ? (this.state.form.q71) : ('')} onChange={(e) => {\r\n                                    this.handleChange(e)\r\n                                }} required/>\r\n                            </div></td>\r\n                            <td><div id=\"name-group\">\r\n                                <input type=\"text\" name=\"q81\" id=\"q81i\" placeholder={''}\r\n                                       value={this.state.form.q81 ? (this.state.form.q81) : ('')} onChange={(e) => {\r\n                                    this.handleChange(e)\r\n                                }} required/>\r\n                            </div></td>\r\n                            <td><div id=\"name-group\">\r\n                                <input type=\"text\" name=\"q91\" id=\"q91i\" placeholder={''}\r\n                                       value={this.state.form.q91 ? (this.state.form.q91) : ('')} onChange={(e) => {\r\n                                    this.handleChange(e)\r\n                                }} required/>\r\n                            </div></td>\r\n                            <td><div id=\"name-group\">\r\n                                <input type=\"text\" name=\"q101\" id=\"q101i\" placeholder={''}\r\n                                       value={this.state.form.q101 ? (this.state.form.q101) : ('')} onChange={(e) => {\r\n                                    this.handleChange(e)\r\n                                }} required/>\r\n                            </div></td>\r\n                            <br/>\r\n\r\n                        </tr>\r\n                    </table>\r\n\r\n                        {/*<div id=\"name-group\">*/}\r\n                        {/*    <label id=\"Q102L\" className=\"title-input\">סה\"כ כולל מע\"מ: </label>*/}\r\n                        {/*    <input type=\"text\" name=\"q102\" id=\"q102i\" placeholder={'התשובה שלך'}*/}\r\n                        {/*           value={this.state.form.q102 ? (this.state.form.q102) : ('')} onChange={(e) => {*/}\r\n                        {/*        this.handleChange(e)*/}\r\n                        {/*    }} required/>*/}\r\n                        {/*</div>*/}\r\n                        <br/>\r\n\r\n                        <Grid item xs={6}>\r\n                            <TextField\r\n                                inputProps={{style: {textAlign: 'center'}}}\r\n                                id=\"q11i\"\r\n                                name=\"q11\"\r\n                                type=\"tel\"\r\n                                autoComplete=\"off\"\r\n                                value={this.state.q11}\r\n                                onChange={(e) => {\r\n                                    this.handleChange(e)\r\n                                }}\r\n                                variant=\"standard\"\r\n                                fullWidth\r\n                                label=\"סה'כ כולל מע'מ\"\r\n                            />\r\n                        </Grid>\r\n                        <br/>\r\n\r\n                        <h4>אבקש לספק לנו את המוצרים הבאים:</h4>\r\n\r\n                        <div id=\"name-group\">\r\n                            <label id=\"QL\" className=\"title-input\">המעבדה ממוקמת במבנה החדש של מכון שמיר למחקר (קומה 2), צמוד למכללת אוהלו</label>\r\n                            <br/>\r\n                        </div>\r\n\r\n                        <div id=\"name-group\">\r\n                            <label id=\"QL\" className=\"title-input\">תנאי תשלום: שוטף + 30</label>\r\n                            <br/>\r\n                        </div>\r\n\r\n                        {/*<div id=\"name-group\">*/}\r\n                        {/*    <label id=\"Q11L\" className=\"title-input\">נא לתאם את קבלת המשלוח עם:</label>*/}\r\n                        {/*    <input type=\"text\" name=\"q11\" id=\"q11i\" placeholder={'התשובה שלך'}*/}\r\n                        {/*           value={this.state.form.q11 ? (this.state.form.q11) : ('')} onChange={(e) => {*/}\r\n                        {/*        this.handleChange(e)*/}\r\n                        {/*    }} required/>*/}\r\n                        {/*</div>*/}\r\n\r\n                        <Grid item xs={6}>\r\n                            <TextField\r\n                                inputProps={{style: {textAlign: 'center'}}}\r\n                                id=\"q12i\"\r\n                                name=\"q12\"\r\n                                type=\"tel\"\r\n                                autoComplete=\"off\"\r\n                                value={this.state.q12}\r\n                                onChange={(e) => {\r\n                                    this.handleChange(e)\r\n                                }}\r\n                                variant=\"standard\"\r\n                                fullWidth\r\n                                label=\"נא לתאם את קבלת המשלוח עם\"\r\n                            />\r\n                        </Grid>\r\n                        <br/>\r\n\r\n                        <h4>לשימוש משרד המכון בלבד:</h4>\r\n\r\n                        <Grid item xs={6}>\r\n                            <TextField\r\n                                inputProps={{style: {textAlign: 'center'}}}\r\n                                id=\"q13i\"\r\n                                name=\"q13\"\r\n                                type=\"tel\"\r\n                                autoComplete=\"off\"\r\n                                value={this.state.q13}\r\n                                onChange={(e) => {\r\n                                    this.handleChange(e)\r\n                                }}\r\n                                variant=\"standard\"\r\n                                fullWidth\r\n                                label=\"מטרת הרכישה\"\r\n                            />\r\n                        </Grid>\r\n                        <br/>\r\n\r\n                        <Grid item xs={6}>\r\n                            <TextField\r\n                                inputProps={{style: {textAlign: 'center'}}}\r\n                                id=\"q14i\"\r\n                                name=\"q14\"\r\n                                type=\"tel\"\r\n                                autoComplete=\"off\"\r\n                                value={this.state.q14}\r\n                                onChange={(e) => {\r\n                                    this.handleChange(e)\r\n                                }}\r\n                                variant=\"standard\"\r\n                                fullWidth\r\n                                label=\"תקציב המחקר\"\r\n                            />\r\n                        </Grid>\r\n                        <br/>\r\n\r\n                        <Grid item xs={6}>\r\n                            <TextField\r\n                                inputProps={{style: {textAlign: 'center'}}}\r\n                                id=\"q15i\"\r\n                                name=\"q15\"\r\n                                type=\"tel\"\r\n                                autoComplete=\"off\"\r\n                                value={this.state.q15}\r\n                                onChange={(e) => {\r\n                                    this.handleChange(e)\r\n                                }}\r\n                                variant=\"standard\"\r\n                                fullWidth\r\n                                label=\"מס' מחקר\"\r\n                            />\r\n                        </Grid>\r\n                        <br/>\r\n\r\n                        <div id=\"name-group\">\r\n                            <label id=\"QL\" className=\"title-input\">שם החוקר: {this.state.user.displayName}</label>\r\n                            <br/>\r\n                        </div>\r\n\r\n                        <Grid item xs={6}>\r\n                            <TextField\r\n                                inputProps={{style: {textAlign: 'center'}}}\r\n                                id=\"q16i\"\r\n                                name=\"q16\"\r\n                                type=\"tel\"\r\n                                autoComplete=\"off\"\r\n                                value={this.state.q16}\r\n                                onChange={(e) => {\r\n                                    this.handleChange(e)\r\n                                }}\r\n                                variant=\"standard\"\r\n                                fullWidth\r\n                                label=\"חתימת החוקר\"\r\n                            />\r\n                        </Grid>\r\n                        <br/>\r\n\r\n                        <Grid item xs={6}>\r\n                            <TextField\r\n                                inputProps={{style: {textAlign: 'center'}}}\r\n                                id=\"q17i\"\r\n                                name=\"q17\"\r\n                                type=\"tel\"\r\n                                autoComplete=\"off\"\r\n                                value={this.state.q17}\r\n                                onChange={(e) => {\r\n                                    this.handleChange(e)\r\n                                }}\r\n                                variant=\"standard\"\r\n                                fullWidth\r\n                                label=\"תאריך החשבונית\"\r\n                            />\r\n                        </Grid>\r\n                        <br/>\r\n\r\n\r\n                        <Grid item xs={6}>\r\n                            <TextField\r\n                                inputProps={{style: {textAlign: 'center'}}}\r\n                                id=\"q18i\"\r\n                                name=\"q18\"\r\n                                type=\"tel\"\r\n                                autoComplete=\"off\"\r\n                                value={this.state.q18}\r\n                                onChange={(e) => {\r\n                                    this.handleChange(e)\r\n                                }}\r\n                                variant=\"standard\"\r\n                                fullWidth\r\n                                label=\"מס' חשבונית\"\r\n                            />\r\n                        </Grid>\r\n                        <br/>\r\n\r\n                    </div>\r\n\r\n                    <button id=\"sendData\" className=\"btn btn-info\" onClick={() => {\r\n                        this.sendRequest(this.state.form)\r\n                    }}>שלח בקשה\r\n                    </button>\r\n                    <button id=\"go-back\" className=\"btn btn-info\" onClick={() => {\r\n                        this.loadPage()\r\n                        this.BackPage()\r\n                    }}>חזור לתפריט\r\n                    </button>\r\n                </div>\r\n            )\r\n        }\r\n        else\r\n            return (<div> {!this.state.spinner[0] ? \"\" :\r\n                <div id='fr'>\r\n                    {this.state.spinner[1]}\r\n                    <div className=\"sweet-loading\">\r\n                        <ClipLoader style={{\r\n                            backgroundColor: \"rgba(255,255,255,0.85)\",\r\n                            borderRadius: \"25px\"\r\n                        }}\r\n                            //   css={override}\r\n                                    size={120}\r\n                                    color={\"#123abc\"}\r\n\r\n                        />\r\n                    </div>\r\n                </div>\r\n            }</div>)\r\n    }\r\n\r\n    notfound()\r\n    {\r\n        this.props.history.push({\r\n            pathname: `/404`,\r\n            data: this.state.user // your data array of objects\r\n        })\r\n    }\r\n    BackPage()\r\n    {\r\n        this.props.history.push({\r\n            pathname: `/Researcher/${this.state.user.uid}`,\r\n            data: this.state.user // your data array of objects\r\n        })\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\nexport  default  RequestPurchase;","C:\\Users\\שחר מימרן\\RBM\\RBM\\src\\components\\pages\\Users\\Manager\\mngRequestPurchase.js",[],"C:\\Users\\שחר מימרן\\RBM\\RBM\\src\\components\\pages\\Users\\Manager\\UpdatesFirebase.js",["121","122","123"],"import React, { Component } from \"react\";\r\nimport {db, CreateNewTeam, auth, getUser} from \"../../../../firebase/firebase\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Select from \"react-select\";\r\nimport ClipLoader from \"react-spinners/ClipLoader\";\r\nimport {CSVLink} from \"react-csv\";\r\n\r\n\r\nvar options = []\r\nvar researchersOptions = []\r\nvar studentsOptions = []\r\nvar emptyresearchersOptions = []\r\nvar emptyStudentsOptions = []\r\nvar emptyTeamOptions = []\r\nvar TeamOptions = []\r\nvar csvresearchersData = []\r\nvar csvmanagersData = []\r\nclass UpdatesFirebase extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state =\r\n            {\r\n                loadPage:false,\r\n                spinner: [true,'נא להמתין הדף נטען'],\r\n                isLoaded:false,\r\n                date:\"\",\r\n                newTeamName:'',\r\n                teamPath:\"\",\r\n                teamName:\"\",\r\n                replaceTeamName:false,\r\n                delete:false,\r\n                showresearchers:false,\r\n                showStudents:false,\r\n                showTeamWithoutresearcher:false,\r\n                showresearcherWithoutTeam:false,\r\n                showStudentWithoutTeam:false,\r\n            }\r\n        this.handleSubmit = this.handleSubmit.bind(this)\r\n        this.handleChangeDate = this.handleChangeDate.bind(this)\r\n        this.handleChange = this.handleChange.bind(this)\r\n    }\r\n\r\n    loadSpinner(event,massage){\r\n        var spinner = []\r\n        spinner.push(event)\r\n        spinner.push(massage)\r\n        this.setState({spinner:spinner})\r\n    }\r\n\r\n    async handleChange(event)\r\n    {\r\n\r\n        var value = event.target.value;\r\n        if(value === '')\r\n            this.setState({newTeamName:value,replaceTeamName:false})\r\n        else\r\n            this.setState({newTeamName:value})\r\n    }\r\n    async deleteTeam(){\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n    createCsvFile(users,type)\r\n    {\r\n        if(type ==='researcher')\r\n        {\r\n            csvresearchersData = [\r\n                [\r\n                    \"שם פרטי\",\r\n                    \"שם משפחה\",\r\n                    \"ת.ז\",\r\n                    \"טלפון\",\r\n                    \"מייל\",\r\n                    \"תפקיד\",\r\n                    \"קבוצה\",\r\n                ],\r\n            ];\r\n            users.map(user=>{\r\n                if(user)\r\n                {\r\n                    csvresearchersData.push([\r\n                        user.data().fname,\r\n                        user.data().lname,\r\n                        user.data().ID,\r\n                        user.data().phone.substr(0,3)+\"-\"+user.data().phone.substr(3,user.data().phone.length),\r\n                        user.data().email,\r\n                        user.data().type==='managers'?\"מנהל\":\r\n                            user.data().type==='researcher'?\"חוקר\":\"\",\r\n                        user.data().teamName,\r\n\r\n                    ],)\r\n                }\r\n                return user\r\n            })\r\n        }\r\n        else\r\n        {\r\n            csvmanagersData = [\r\n                [\r\n                    \"שם פרטי\",\r\n                    \"שם משפחה\",\r\n                    \"ת.ז\",\r\n                    \"טלפון\",\r\n                    \"מייל\",\r\n                    \"תפקיד\",\r\n                    \"קבוצה\",\r\n                ],\r\n            ];\r\n            users.map(user=>{\r\n                if(user) {\r\n                    csvmanagersData.push([\r\n                        user.data().fname,\r\n                        user.data().lname,\r\n                        user.data().ID,\r\n                        user.data().phone.substr(0, 2) + \"-\" + user.data().phone.substr(3, user.data().phone.length),\r\n                        user.data().email,\r\n                        user.data().type==='managers'?\"מנהל\":\r\n                            user.data().type==='researcher'?\"חוקר\":\"\",\r\n                        user.data().teamName,\r\n\r\n                    ],)\r\n                }\r\n                return user\r\n            })\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n    render() {\r\n        if(this.state.loadPage)\r\n        {\r\n            return(\r\n                <div id=\"instactorReport\" className=\"sec-design\" dir='rtl'>\r\n\r\n                    {!this.state.spinner[0] ? \"\" :\r\n                        <div id='fr'>\r\n                            {this.state.spinner[1]}\r\n                            <div className=\"sweet-loading\">\r\n                                <ClipLoader style={{\r\n                                    backgroundColor: \"rgba(255,255,255,0.85)\",\r\n                                    borderRadius: \"25px\"\r\n                                }}\r\n                                    //   css={override}\r\n                                            size={120}\r\n                                            color={\"#123abc\"}\r\n\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    }\r\n                    <Grid container spacing={2}>\r\n                        <Grid item xs={12}>\r\n                            <input type=\"text\" name=\"team\" placeholder=\"שם משתמש חדש\" onChange={this.handleChange}/>\r\n                        </Grid>\r\n                        <Grid item xs={6} >\r\n                            <button onClick={async ()=>{\r\n                                var newTeam= this.state.newTeamName\r\n                                await CreateNewTeam(newTeam)\r\n                                window.location.reload(true)\r\n                            }}>צור משתמש חדש</button>\r\n                        </Grid>\r\n                        <Grid item xs={6}>\r\n                            <button onClick={()=>{\r\n                                if(this.state.newTeamName && this.state.newTeamName.length > 0)\r\n                                    this.setState({replaceTeamName:true})\r\n                                else\r\n                                    alert(\"שם המשתמש החדש לא יכול להיות ריק\")\r\n                            }}>החלף שם למשתמש קיים </button>\r\n                        </Grid>\r\n                        <Grid item xs={8} hidden={!this.state.replaceTeamName}>\r\n                            <Select  placeholder={\" בחר משתמש להחלפת שם \"} options={options} onChange={(e)=>{\r\n                                // console.log(e.label,e.value);\r\n                                this.setState({teamPath:e.value,teamName:e.label})\r\n                            }} required/>\r\n                        </Grid>\r\n                        <Grid item xs={4} hidden={!this.state.replaceTeamName} >\r\n                            <button onClick={async ()=>{\r\n\r\n                                if(this.state.teamName !== this.state.newTeamName) {\r\n                                    await this.setState({replaceTeamName: false})\r\n                                    await this.state.teamPath.update({name:this.state.newTeamName})\r\n                                    alert('בוצע שינוי שם בהצלחה')\r\n                                    window.location.reload(true);\r\n\r\n                                }\r\n                                else\r\n                                {\r\n                                    alert(\"שם זהה לא ניתן לשנות\")\r\n                                }\r\n                            }}>אישור החלפה</button>\r\n                        </Grid>\r\n                        <Grid item xs={12}>\r\n                            <button onClick={()=>{\r\n                                this.setState({delete:!this.state.delete})\r\n                                this.deleteTeam()\r\n                            }}>{this.state.delete?'הסתר מחיקת משתמש':'הצג מחיקת משתמש'} </button>\r\n                        </Grid>\r\n                        <Grid item xs={8} hidden={!this.state.delete}>\r\n                            <Select  placeholder={\" בחר משתמש \"} options={options} onChange={(e)=>{\r\n                                // console.log(e.label,e.value);\r\n                                this.setState({teamPath:(e.value).path,teamName:e.label})\r\n                            }} required/>\r\n                        </Grid>\r\n                        <Grid item xs={4} hidden={!this.state.delete} >\r\n                            <button onClick={async ()=>{\r\n                                // console.log(this.state.teamPath)\r\n                                if(this.state.teamPath) {\r\n                                    await this.setState({delete: false})\r\n                                    var d = await db.doc(this.state.teamPath).get()\r\n                                    if(d.data().researcher) {\r\n                                        // console.log(\"team on researcher remove\")\r\n                                        await d.data().researcher.update({\r\n                                            team: null,\r\n                                            teamName: null\r\n                                        })\r\n                                    }\r\n\r\n\r\n                                    var researcher = await  db.collection(\"researcher\").where('teamName','==',this.state.teamName).get()\r\n                                    researcher.docs.forEach(async student=>{\r\n                                        researcher.ref.update({\r\n                                            teamName: null,\r\n                                            team:null\r\n                                        })\r\n                                    })\r\n\r\n                                    await db.doc(this.state.teamPath).delete().then(function() {\r\n                                        alert(\"המשתמש נמחק בהצלחה\");\r\n                                    }).catch(function(error) {\r\n                                        console.error(\"Error removing document: \", error);\r\n                                    });\r\n                                    window.location.reload(true);\r\n\r\n                                }\r\n                                else\r\n                                {\r\n                                    // console.log(\"בחר חוקר\")\r\n                                }\r\n                            }}>מחק</button>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12}>\r\n                            <div className=\"text-below-image\">\r\n                                <button onClick={()=>{\r\n                                    this.getAllUsers('researcher')\r\n                                    this.setState({showresearchers:!this.state.showresearchers,researcherTeamName:null,researcherName:null})\r\n\r\n                                }} >{this.state.showresearchers?'הסתר רשימת חוקרים':'הצג רשימת חוקרים'}</button>\r\n                                {\r\n                                    (this.state.showresearchers && this.state.researchers) ? (\r\n                                        <div>\r\n                                            <Grid item xs={12}>\r\n                                                נמצאו:{this.state.researchers.length} חוקרים\r\n                                                <Select placeholder={\" מצא חוקר \"} options={researchersOptions}\r\n                                                        onChange={(e) => {\r\n                                                            // console.log(e.label, e.value);\r\n                                                            this.setState({researchers: [e.value]})\r\n                                                        }}/>\r\n\r\n                                            </Grid>\r\n                                            <Grid item xs={12}>\r\n                                                <CSVLink\r\n                                                    data={csvresearchersData}\r\n                                                    filename={\"רשימת חוקרים.csv\"}\r\n                                                    className=\"btn btn-primary\"\r\n                                                    target=\"_blank\"\r\n                                                >\r\n                                                    <button>\r\n                                                        הורדת פרטי קשר חוקרים\r\n                                                    </button>\r\n                                                </CSVLink>\r\n                                            </Grid>\r\n\r\n                                            <Grid item xs={12}>\r\n                                                <CSVLink\r\n                                                    data={csvresearchersData}\r\n                                                    filename={\"רשימת חוקרים.doc\"}\r\n                                                    className=\"btn btn-primary\"\r\n                                                    target=\"_blank\"\r\n                                                >\r\n                                                    <button>\r\n                                                         וורד הורדת פרטי קשר חוקרים\r\n                                                    </button>\r\n                                                </CSVLink>\r\n                                            </Grid>\r\n                                        </div> ) : ('')\r\n\r\n                                }\r\n                                {\r\n                                    (!this.state.researchers || !this.state.showresearchers)?'':\r\n                                        this.state.researchers.map((researcher,index) => (\r\n                                            <Grid  item xs={12}  key={index}>\r\n                                                <hr/>\r\n                                                {this.card(researcher.data(),index)}\r\n                                            </Grid >\r\n                                        ))\r\n\r\n\r\n                                }\r\n                            </div>\r\n\r\n                        </Grid>\r\n\r\n\r\n                        <Grid item xs={12}>\r\n                            <button id=\"feedback-button\" className=\"btn btn-info\" onClick={()=>{this.BackPage()}}>חזרה לתפריט</button>\r\n                        </Grid>\r\n\r\n\r\n                    </Grid>\r\n\r\n\r\n\r\n                </div>\r\n\r\n            )\r\n        } else {\r\n            // console.log(this.state.spinner)\r\n            return (\r\n                <div>\r\n                    {!this.state.spinner[0] ? \"\" :\r\n                        <div id='fr'>\r\n                            {\"טוען נתוני דף\"}\r\n                            <div className=\"sweet-loading\">\r\n                                <ClipLoader style={{\r\n                                    backgroundColor: \"rgba(255,255,255,0.85)\",\r\n                                    borderRadius: \"25px\"\r\n                                }}\r\n                                    //   css={override}\r\n                                            size={120}\r\n                                            color={\"#123abc\"}\r\n\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    }\r\n                </div>)\r\n        }\r\n    }\r\n\r\n\r\n    BackPage()\r\n    {\r\n        this.props.history.push({\r\n            pathname: `/Manager/${this.state.user.uid}`,\r\n            data: this.state.user // your data array of objects\r\n        })\r\n    }\r\n\r\n    async getAllUsers(user) {\r\n        this.loadSpinner(true,\"מיבא נתוני משתמשים\")\r\n        // console.log(\"this.state\",this.state)\r\n        // console.log(\"this.state.researchers\",this.state.researchers)\r\n        // console.log(\"this.state.researchersEmpty\",this.state.researchersEmpty)\r\n        // console.log(\"this.state.Data\",this.state.Data)\r\n        // console.log(\"this.state.TeamEmpty\",this.state.TeamEmpty)\r\n\r\n        if ((user === 'researcher' && this.state.researchers && this.state.researchers > 1) ||\r\n            (user === 'researchersEmpty' && this.state.researchersEmpty && this.state.researchersEmpty > 1) ||\r\n            (user === 'teamEmpty' && this.state.TeamEmpty && this.state.TeamEmpty > 1) ||\r\n            (user === 'Data' && this.state.Data && this.state.Data > 1)) {\r\n            this.loadSpinner(false,\"\")\r\n            return\r\n        }\r\n        // console.log(user)\r\n        var temp = user\r\n        if (user === 'researcher')\r\n            researchersOptions = []\r\n        else if (user === 'researchersEmpty') {\r\n            emptyresearchersOptions = []\r\n            temp = 'researcher'\r\n        } else if (user === 'teamEmpty') {\r\n            emptyTeamOptions = []\r\n            temp = 'Data'\r\n        } else if (user === 'Data') {\r\n            TeamOptions = []\r\n            temp = 'Data'\r\n        }\r\n        var allUsers = []\r\n        await db.collection(temp).get().then(res => {\r\n            res.forEach(res => {\r\n                if (res.data().uid) {\r\n                 if (user === 'researcher') {\r\n                        allUsers.push(res)\r\n                     researchersOptions.push({value: res, label: res.data().fname + ' ' + res.data().lname})\r\n\r\n                    } else if (user === 'researchersEmpty' && !res.data().team) {\r\n                        allUsers.push(res)\r\n                        emptyresearchersOptions.push({value: res, label: res.data().fname + ' ' + res.data().lname})\r\n                    }\r\n                } else if (user === 'teamEmpty' && !res.data().researcher) {\r\n                    allUsers.push(res)\r\n                    emptyTeamOptions.push({value: res, label: res.name})\r\n\r\n                } else if (user === 'Data' && res.data().researcher) {\r\n                    allUsers.push(res)\r\n                    TeamOptions.push({value: res, label: res.name})\r\n                }\r\n            })\r\n        })\r\n        if (user === 'researcher') {\r\n            this.setState({researchers: allUsers})\r\n            this.createCsvFile(allUsers,'researcher')\r\n        }\r\n        else if (user === 'researchersEmpty')\r\n            this.setState({researchersEmpty: allUsers})\r\n        else if (user === 'studentEmpty')\r\n            this.setState({StudentEmpty: allUsers})\r\n        else if (user === 'teamEmpty')\r\n            this.setState({TeamEmpty: allUsers})\r\n        else if (user === 'Data') {\r\n            this.setState({Data: allUsers})\r\n        }\r\n\r\n        this.loadSpinner(false,\"\")\r\n         console.log(\"all users\",allUsers)\r\n    }\r\n\r\n\r\n    async handleSubmit(event)\r\n    {\r\n        this.loadSpinner(true,\"מיבא נתונים\")\r\n        // console.log(this.state.teamPath)\r\n        if(!this.state.date) {\r\n            this.loadSpinner(false,\"\")\r\n            return;\r\n        }\r\n        // console.log(\"in\");\r\n        var team = await db.collection(\"Data\").doc(this.state.teamPath).get();\r\n        // console.log(team)\r\n        this.loadSpinner(false,\"\")\r\n    }\r\n    async componentDidMount() {\r\n        var href =  window.location.href.split(\"/\",5)\r\n        // console.log(href)\r\n        auth.onAuthStateChanged(async user=>{\r\n            if(user)\r\n            {\r\n\r\n                var type = await getUser(user)\r\n                if(href[4] === user.uid && (href[3] === type||type==='Tester'))\r\n                {\r\n                    this.setState({\r\n                        isLoad: true,\r\n                        user: user,\r\n                        type: type\r\n                    })\r\n                    this.render()\r\n                    this.setState({loadPage:true})\r\n                    this.loadSpinner(true,\"מיבא נתונים\")\r\n                    var nameTeams =  await db.collection(\"Data\").get();\r\n                    nameTeams.forEach(doc=>{\r\n                        options.push({ value: doc.ref, label: doc.data().name })\r\n                    })\r\n                    this.loadSpinner(false,\"\")\r\n                    return\r\n                }\r\n                else\r\n                {\r\n                    this.notfound()\r\n                    return\r\n                }\r\n\r\n            }\r\n            else {\r\n                this.setState({\r\n                    isLoad: true,\r\n                })\r\n                window.location.href = '/Login';\r\n                return;\r\n\r\n            }\r\n\r\n        })\r\n\r\n    }\r\n\r\n\r\n    async handleChangeDate(event)\r\n    {\r\n        var name = event.target.name;\r\n        var value = event.target.value;\r\n        if(name === 'date')\r\n        {\r\n            this.setState({date:value,viewStudent:false});\r\n            this.state.date=value\r\n        }\r\n    }\r\n\r\n    teamCard(team)\r\n    {\r\n        return(\r\n            <div id=\"name-group\" className=\"form-group\" dir=\"rtl\">\r\n                <div className=\"report\" id=\"report\">\r\n                    <div>\r\n                        <h4> שם החוקר: {team.name} </h4>\r\n                        <Grid container spacing={2}>\r\n                            <Grid item xs={8}>\r\n                                <Select  placeholder={\" שיבוץ חוקר \"} options={emptyresearchersOptions} onChange={(e)=>{\r\n                                    // console.log(e.label,e.value);\r\n                                    this.setState({emtpyresearcherTeamPath:e.value,emtpyresearcherTeamName:e.label})\r\n                                }} />\r\n                            </Grid>\r\n                            <Grid item xs={4} hidden={!this.state.emtpyresearcherTeamPath}>\r\n\r\n\r\n                            </Grid>\r\n                        </Grid>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    card(user,index)\r\n    {\r\n        return(\r\n            <div id=\"name-group\" className=\"form-group\" dir=\"rtl\">\r\n                <div className=\"report\" id=\"report\">\r\n                    <div>\r\n\r\n                        <h4> שם: {user.fname+' '+ user.lname} </h4>\r\n                        <h4> טלפון: {user.phone}</h4>\r\n                        <h4> אימייל: {user.email}</h4>\r\n                        <h4> ת.ז: {user.ID}</h4>\r\n                        <h4> חוקר: {user.teamName}</h4>\r\n                        <Grid container spacing={2}>\r\n                            <Grid item xs={8}>\r\n                                {/*<Select  placeholder={\" החלף חוקר \"} options={options} onChange={(e)=>{*/}\r\n                                {/*    // console.log(e.label,e.value);*/}\r\n                                {/*    user.optionss = e.label*/}\r\n                                {/*    var teamPath = this.state.researcherTeamPath*/}\r\n                                {/*    var teamName = this.state.researcherTeamName*/}\r\n                                {/*    if(teamPath && teamName) {*/}\r\n                                {/*        if (index < teamPath.length) {*/}\r\n                                {/*            teamPath[index] = e.value*/}\r\n                                {/*            teamName[index] = e.label*/}\r\n                                {/*        }*/}\r\n                                {/*        else*/}\r\n                                {/*        {*/}\r\n                                {/*            teamPath.push(e.value)*/}\r\n                                {/*            teamName.push(e.label)*/}\r\n                                {/*        }*/}\r\n                                {/*    }*/}\r\n                                {/*    else*/}\r\n                                {/*    {*/}\r\n                                {/*        teamPath = [e.value]*/}\r\n                                {/*        teamName = [e.label]*/}\r\n\r\n                                {/*    }*/}\r\n                                {/*    this.setState({researcherTeamPath:teamPath,researcherTeamName:teamName})*/}\r\n                                {/*}} />*/}\r\n                            </Grid>\r\n\r\n                        </Grid>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        )\r\n    }\r\n\r\n\r\n\r\n    loadUser(page)\r\n    {\r\n        this.props.history.push({\r\n            // pathname: `/${page}/${this.state.user.id}`,\r\n            pathname: `/Temp${page}`,\r\n            data: this.state.user // your data array of objects\r\n        })\r\n    }\r\n    notfound()\r\n    {\r\n        this.props.history.push({\r\n            pathname: `/404`,\r\n            data: this.state.user // your data array of objects\r\n        })\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default UpdatesFirebase;\r\n",{"ruleId":"124","severity":1,"message":"125","line":1,"column":8,"nodeType":"126","messageId":"127","endLine":1,"endColumn":12},{"ruleId":"128","replacedBy":"129"},{"ruleId":"130","replacedBy":"131"},{"ruleId":"128","replacedBy":"132"},{"ruleId":"130","replacedBy":"133"},{"ruleId":"124","severity":1,"message":"134","line":6,"column":9,"nodeType":"126","messageId":"127","endLine":6,"endColumn":13},{"ruleId":"124","severity":1,"message":"135","line":7,"column":9,"nodeType":"126","messageId":"127","endLine":7,"endColumn":15},{"ruleId":"136","severity":1,"message":"137","line":77,"column":1,"nodeType":"138","messageId":"139","endLine":77,"endColumn":57},{"ruleId":"140","severity":1,"message":"141","line":77,"column":28,"nodeType":"142","endLine":77,"endColumn":33},{"ruleId":"124","severity":1,"message":"135","line":4,"column":9,"nodeType":"126","messageId":"127","endLine":4,"endColumn":15},{"ruleId":"124","severity":1,"message":"143","line":2,"column":8,"nodeType":"126","messageId":"127","endLine":2,"endColumn":14},{"ruleId":"144","severity":1,"message":"145","line":130,"column":17,"nodeType":"126","messageId":"146","endLine":130,"endColumn":30},{"ruleId":"124","severity":1,"message":"147","line":3,"column":10,"nodeType":"126","messageId":"127","endLine":3,"endColumn":15},{"ruleId":"124","severity":1,"message":"148","line":3,"column":17,"nodeType":"126","messageId":"127","endLine":3,"endColumn":27},{"ruleId":"124","severity":1,"message":"149","line":86,"column":13,"nodeType":"126","messageId":"127","endLine":86,"endColumn":14},{"ruleId":"124","severity":1,"message":"150","line":227,"column":17,"nodeType":"126","messageId":"127","endLine":227,"endColumn":21},{"ruleId":"124","severity":1,"message":"151","line":328,"column":17,"nodeType":"126","messageId":"127","endLine":328,"endColumn":25},{"ruleId":"124","severity":1,"message":"152","line":11,"column":5,"nodeType":"126","messageId":"127","endLine":11,"endColumn":20},{"ruleId":"124","severity":1,"message":"153","line":13,"column":5,"nodeType":"126","messageId":"127","endLine":13,"endColumn":25},{"ruleId":"124","severity":1,"message":"154","line":436,"column":13,"nodeType":"126","messageId":"127","endLine":436,"endColumn":17},"no-unused-vars","'logo' is defined but never used.","Identifier","unusedVar","no-native-reassign",["155"],"no-negated-in-lhs",["156"],["155"],["156"],"'auth' is defined but never used.","'render' is defined but never used.","no-lone-blocks","Block is redundant.","BlockStatement","redundantBlock","react/jsx-no-duplicate-props","No duplicate props allowed","JSXAttribute","'Select' is defined but never used.","no-redeclare","'updateStudent' is already defined.","redeclared","'Radio' is defined but never used.","'RadioGroup' is defined but never used.","'e' is assigned a value but never used.","'name' is assigned a value but never used.","'teamName' is assigned a value but never used.","'studentsOptions' is assigned a value but never used.","'emptyStudentsOptions' is assigned a value but never used.","'team' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]